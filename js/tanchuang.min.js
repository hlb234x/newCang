var get={byId:function(e){return"string"==typeof e?document.getElementById(e):e},byClass:function(e,t){for(var n=[],o=new RegExp("(^| )"+e+"( |$)"),i=this.byTagName("*",t),s=0;s<i.length;s++)o.test(i[s].className)&&n.push(i[s]);return n},byTagName:function(e,t){return(t||document).getElementsByTagName(e)}},dragMinWidth=400,dragMinHeight=300;function drag(s,e){var l=dixY=0,t=get.byClass("min",s)[0],n=get.byClass("max",s)[0],o=get.byClass("revert",s)[0],i=get.byClass("close",s)[0];(e=e||s).style.cursor="move",e.onmousedown=function(e){e=e||window.event;return l=e.clientX-s.offsetLeft,disY=e.clientY-s.offsetTop,document.onmousemove=function(e){var t=(e=e||window.event).clientX-l,n=e.clientY-disY,o=document.documentElement.clientWidth-s.offsetWidth,i=document.documentElement.clientHeight-s.offsetHeight;return t<=0&&(t=0),n<=0&&(n=0),o<=t&&(t=o),i<=n&&(n=i),s.style.left=t+"px",s.style.top=n+"px",!1},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,this.releaseCapture&&this.releaseCapture()},this.setCapture&&this.setCapture(),!1},n.onclick=function(){s.style.top=s.style.left=0,s.style.width=document.documentElement.clientWidth-2+"px",s.style.height=document.documentElement.clientHeight-2+"px",this.style.display="none",o.style.display="block"},o.onclick=function(){s.style.width=dragMinWidth+"px",s.style.height=dragMinHeight+"px",s.style.left=(document.documentElement.clientWidth-s.offsetWidth)/2+"px",s.style.top=(document.documentElement.clientHeight-s.offsetHeight)/2+"px",this.style.display="none",n.style.display="block"},t.onclick=i.onclick=function(){s.style.display="none";var e=document.createElement("a");e.className="open",e.href="javascript:;",e.title="还原",document.body.appendChild(e),e.onclick=function(){s.style.display="block",document.body.removeChild(this),this.onclick=null}},t.onmousedown=n.onmousedown=i.onmousedown=function(e){this.onfocus=function(){this.blur()},(e||window.event).cancelBubble=!0}}function resize(a,h,g,y,p,b){h.onmousedown=function(e){var d=(e=e||window.event).clientX-h.offsetLeft,c=e.clientY-h.offsetTop,u=a.offsetTop,m=a.offsetLeft,r=a.offsetWidth,f=a.offsetHeight;return document.onmousemove=function(e){var t=(e=e||window.event).clientX-d,n=e.clientY-c,o=document.documentElement.clientWidth-a.offsetLeft-2,i=document.documentElement.clientHeight-a.offsetTop-2,s=g?r-t:h.offsetWidth+t,l=y?f-n:h.offsetHeight+n;return g&&(a.style.left=m+t+"px"),y&&(a.style.top=u+n+"px"),s<dragMinWidth&&(s=dragMinWidth),o<s&&(s=o),p||(a.style.width=s+"px"),l<dragMinHeight&&(l=dragMinHeight),i<l&&(l=i),b||(a.style.height=l+"px"),(g&&s==dragMinWidth||y&&l==dragMinHeight)&&(document.onmousemove=null),!1},!(document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null})}}window.onload=window.onresize=function(){var e=document.getElementById("drag"),t=get.byClass("title",e)[0],n=get.byClass("resizeL",e)[0],o=get.byClass("resizeT",e)[0],i=get.byClass("resizeR",e)[0],s=get.byClass("resizeB",e)[0],l=get.byClass("resizeLT",e)[0],d=get.byClass("resizeTR",e)[0],c=get.byClass("resizeBR",e)[0],u=get.byClass("resizeLB",e)[0];drag(e,t),resize(e,l,!0,!0,!1,!1),resize(e,d,!1,!0,!1,!1),resize(e,c,!1,!1,!1,!1),resize(e,u,!0,!1,!1,!1),resize(e,n,!0,!1,!1,!0),resize(e,o,!1,!0,!0,!1),resize(e,i,!1,!1,!1,!0),resize(e,s,!1,!1,!0,!1),e.style.left=(document.documentElement.clientWidth-e.offsetWidth)/2+"px",e.style.top=(document.documentElement.clientHeight-e.offsetHeight)/2+"px"};